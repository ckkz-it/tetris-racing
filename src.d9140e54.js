parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"RhqW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FRAME_RATE=60,exports.SCREEN_PROPORTION=1.8,exports.BLOCK_WIDTH=35,exports.BLOCK_SPACING=5,exports.BLOCK_FULL_WIDTH=exports.BLOCK_WIDTH+exports.BLOCK_SPACING,exports.BLOCKS_COUNT_X=10,exports.BLOCKS_COUNT_Y=exports.BLOCKS_COUNT_X*exports.SCREEN_PROPORTION,exports.CANVAS_WIDTH=exports.BLOCK_FULL_WIDTH*exports.BLOCKS_COUNT_X,exports.CANVAS_HEIGHT=exports.CANVAS_WIDTH*exports.SCREEN_PROPORTION,exports.CAR_POSITION={LEFT:2*exports.BLOCK_FULL_WIDTH,RIGHT:exports.BLOCK_FULL_WIDTH*(exports.BLOCKS_COUNT_X-5)},exports.CAR_MATRIX=[[0,1,0],[1,1,1],[0,1,0],[1,0,1]],exports.BORDER_POSITION={LEFT:0,RIGHT:exports.BLOCK_FULL_WIDTH*(exports.BLOCKS_COUNT_X-1)};
},{}],"i7LB":[function(require,module,exports) {
module.exports="./bg.dbee29d9.png";
},{}],"aaFQ":[function(require,module,exports) {
module.exports="./texture.bbcce91e.png";
},{}],"B6dB":[function(require,module,exports) {
"use strict";var t=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(require("./constants")),o=e(require("./assets/bg.png")),i=e(require("./assets/texture.png")),n=function(t){var e,n,s,u,h,a=[],f=0,c=r.FRAME_RATE/4;t.preload=function(){u=t.loadImage(i.default),h=t.loadImage(o.default)},t.setup=function(){t.frameRate(r.FRAME_RATE),t.createCanvas(r.CANVAS_WIDTH,r.CANVAS_HEIGHT),n=new I;var o=r.BLOCK_FULL_WIDTH*(r.BLOCKS_COUNT_Y-6);e=new p(r.CAR_POSITION.RIGHT,o),s=new L},t.draw=function(){n.draw(),s.update(),s.draw(),t.textSize(24),t.text("Score: "+f,40,30),t.frameCount%r.FRAME_RATE==0&&(f+=1),e.draw(),t.frameCount%(3*r.FRAME_RATE)!=0&&1!==t.frameCount||a.push(new p(Math.random()>.5?r.CAR_POSITION.RIGHT:r.CAR_POSITION.LEFT,-4*r.BLOCK_FULL_WIDTH,!0));for(var o=0;o<a.length;o++)if(a[o].update(),a[o].draw(),a[o].y>r.CANVAS_HEIGHT&&a.splice(o,1),e.hits(a[o])){a=[],f=0;break}},t.keyPressed=function(){t.keyCode===t.LEFT_ARROW&&e.x===r.CAR_POSITION.RIGHT&&(e.x=r.CAR_POSITION.LEFT),t.keyCode===t.RIGHT_ARROW&&e.x===r.CAR_POSITION.LEFT&&(e.x=r.CAR_POSITION.RIGHT)};var _=function(){function e(t,e,r){this.x=t,this.y=e,this.size=r}return e.prototype.draw=function(){t.image(u,this.x,this.y,this.size,this.size)},e}(),I=function(){function e(){}return e.prototype.draw=function(){t.image(h,0,0)},e}(),p=function(){function e(t,e,o){void 0===o&&(o=!1),this._x=t,this._y=e,this.move=o,this.blocks=[],this.width=r.BLOCK_WIDTH,this.setup()}return e.prototype.setup=function(){for(var t=0;t<r.CAR_MATRIX.length;t++)for(var e=0;e<r.CAR_MATRIX[t].length;e++){0!==r.CAR_MATRIX[t][e]&&this.blocks.push(new _(this.x+r.BLOCK_FULL_WIDTH*e,this.y+r.BLOCK_FULL_WIDTH*t,this.width))}},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;var e=3*r.BLOCK_FULL_WIDTH;t===r.CAR_POSITION.LEFT&&(e*=-1),this.blocks.forEach(function(t){t.x+=e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;var e=this.blocks[0].y;this.blocks.forEach(function(r){r.y=r.y-e+t})},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.move&&t.frameCount%(r.FRAME_RATE/4)==0&&(this.y=this.y+r.BLOCK_FULL_WIDTH)},e.prototype.draw=function(){this.blocks.forEach(function(t){t.draw()})},e.prototype.hits=function(t){var e=4*r.BLOCK_FULL_WIDTH;r.BLOCK_FULL_WIDTH;if(this.x===t.x&&this.y>=t.y&&t.y+e>this.y)return!0},e}(),T=function(){function e(t,e,r){void 0===r&&(r=3),this.x=t,this.y=e,this.height=r,this.blocks=[],this.setup()}return e.prototype.setup=function(){for(var t=0;t<this.height;t++)this.blocks.push(new _(this.x,this.y+t*r.BLOCK_FULL_WIDTH,r.BLOCK_WIDTH))},e.prototype.update=function(){var e=this;t.frameCount%c==0&&this.blocks.forEach(function(t,o){t.y=t.y+r.BLOCK_FULL_WIDTH,t.y>r.CANVAS_HEIGHT&&e.blocks.splice(o,1)})},e.prototype.draw=function(){this.blocks.forEach(function(t){t.draw()})},e.prototype.clear=function(){this.blocks=[]},e}(),L=function(){function e(t){void 0===t&&(t=r.BLOCK_FULL_WIDTH),this.spacing=t,this.borderItems=[],this.setup()}return e.prototype.setup=function(){for(var t=0;t<5;t++)this.borderItems.push(new T(r.BORDER_POSITION.LEFT,t*r.BLOCK_FULL_WIDTH*4)),this.borderItems.push(new T(r.BORDER_POSITION.RIGHT,t*r.BLOCK_FULL_WIDTH*4))},e.prototype.update=function(){if(t.frameCount%(4*c)==1||1===t.frameCount){var e=new T(r.BORDER_POSITION.LEFT,-4*r.BLOCK_FULL_WIDTH);this.borderItems.push(e);var o=new T(r.BORDER_POSITION.RIGHT,-4*r.BLOCK_FULL_WIDTH);this.borderItems.push(o)}this.borderItems.forEach(function(t){t.update()}),t.frameCount%(20*c)==0&&this.borderItems.splice(0,this.borderItems.length-10)},e.prototype.draw=function(){this.borderItems.forEach(function(t){t.draw()})},e}()};new p5(n);
},{"./constants":"RhqW","./assets/bg.png":"i7LB","./assets/texture.png":"aaFQ"}]},{},["B6dB"], null)
//# sourceMappingURL=/src.d9140e54.js.map
